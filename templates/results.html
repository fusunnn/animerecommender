<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Anime Recommender</title>
    <script
      src="https://kit.fontawesome.com/40db60ac4e.js"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/results.css') }}"
    />
  </head>

  <body id="body" class="resultsBody">
    <a href="/home"><i class="fas fa-arrow-left fa-3x"></i></a>
    <h1 class="resultsContainerLabel">your results...</h1>
    <div id="resultsContainer" class="resultsContainer"></div>
    <script>
        //recommendation results passed from the flask (python)
        const results = {{ results | tojson }}
        const resultsContainer = document.getElementById('resultsContainer')


      //looping through the results and making a card for each one with extra information
        for (let i = 0; i<results.length;i++) {

            //creating the card html elements
            const cardContainer = document.createElement('div')
            cardContainer.setAttribute('class','cardContainer')
            cardContainer.style.backgroundImage = "url('"+results[i]['attributes']["posterImage"]+"')"

            const cardInformationContainer = document.createElement('div')
            cardInformationContainer.setAttribute('class', 'cardInformationContainer')
            cardContainer.appendChild(cardInformationContainer)

            const cardTitle = document.createElement('h2')
            cardTitle.setAttribute('class', 'cardTitle')
            cardInformationContainer.appendChild(cardTitle)
            //end

            cardTitle.innerHTML = results[i]['attributes']['canonicalTitle']

            resultsContainer.appendChild(cardContainer)

        }
    </script>
  </body>
</html>
